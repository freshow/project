
#include "SecureCoding.h"

/**************************************************************************
*
*     
*
**************************************************************************/
bool IsPasswordOKay(void)
{
    char password[12];
    gets(password);
    if (!strcmp(password, "goodpass"))
    {
        return true;
    }

    return false;
}

void chapter2_figure_2_9(void)
{
    FUNC_CTRL(__FUNCTION__, true);
    bool pwStatus;
    puts("enter password:");
    pwStatus = IsPasswordOKay();
    if (!pwStatus)
    {
        puts("access denied");
        exit(-1);
    }
    else
    {
        puts("Access granted");
    }
}

/**************************************************************************
*
*     
*
**************************************************************************/
void chapter2_3_String_Vulnerability(int argc, char* argv[])
{
    FUNC_CTRL(__FUNCTION__, false);
    chapter2_figure_2_9();

    return;
}